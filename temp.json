{
  "dns": {
    "independent_cache": true,
    "rules": [
      {
        "domain": ["raw.githubusercontent.com"],
        "server": "dns-direct"
      },
      {
        "clash_mode": "Direct",
        "server": "dns-direct"
      },
      {
        "clash_mode": "Global",
        "server": "dns-remote"
      },
      {
        "action": "route",
        "mode": "and",
        "rules": [
          {
            "rule_set": "geosite-ir"
          },
          {
            "rule_set": "geoip-ir"
          }
        ],
        "server": "dns-direct",
        "type": "logical"
      },
      {
        "action": "reject",
        "rule_set": [
          "geosite-malware",
          "geosite-phishing",
          "geosite-cryptominers",
          "geosite-category-ads-all"
        ]
      }
    ],
    "servers": [
      {
        "detour": "✅ Selector",
        "server": "1.1.1.1",
        "tag": "dns-remote",
        "type": "udp"
      },
      {
        "server": "8.8.8.8",
        "server_port": 53,
        "tag": "dns-direct",
        "type": "udp"
      }
    ],
    "strategy": "ipv4_only"
  },
  "endpoints": [
    {
      "address": ["172.16.0.2/32", "2606:4700:110:8851:c589:74cb:64c3:ab7d/128"],
      "detour": "💦 1 - Warp 🇮🇷",
      "domain_resolver": {
        "rewrite_ttl": 60,
        "server": "dns-remote",
        "strategy": "prefer_ipv4"
      },
      "mtu": 1280,
      "peers": [
        {
          "address": "162.159.192.1",
          "allowed_ips": ["0.0.0.0/0", "::/0"],
          "persistent_keepalive_interval": 5,
          "port": 2408,
          "public_key": "bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=",
          "reserved": [210, 214, 174]
        }
      ],
      "private_key": "D+xA0JcsyrV1rZ6wYrxgLH3Co0ppJwaHydvr2dveb6U=",
      "tag": "💦 1 - WoW 🌍",
      "type": "wireguard"
    },
    {
      "address": ["172.16.0.2/32", "2606:4700:110:8851:c589:74cb:64c3:ab7d/128"],
      "detour": "💦 2 - Warp 🇮🇷",
      "domain_resolver": {
        "rewrite_ttl": 60,
        "server": "dns-remote",
        "strategy": "prefer_ipv4"
      },
      "mtu": 1280,
      "peers": [
        {
          "address": "162.159.192.1",
          "allowed_ips": ["0.0.0.0/0", "::/0"],
          "persistent_keepalive_interval": 5,
          "port": 2408,
          "public_key": "bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=",
          "reserved": [210, 214, 174]
        }
      ],
      "private_key": "D+xA0JcsyrV1rZ6wYrxgLH3Co0ppJwaHydvr2dveb6U=",
      "tag": "💦 2 - WoW 🌍",
      "type": "wireguard"
    },
    {
      "address": ["172.16.0.2/32", "2606:4700:110:8851:c589:74cb:64c3:ab7d/128"],
      "detour": "💦 3 - Warp 🇮🇷",
      "domain_resolver": {
        "rewrite_ttl": 60,
        "server": "dns-remote",
        "strategy": "prefer_ipv4"
      },
      "mtu": 1280,
      "peers": [
        {
          "address": "162.159.192.1",
          "allowed_ips": ["0.0.0.0/0", "::/0"],
          "persistent_keepalive_interval": 5,
          "port": 2408,
          "public_key": "bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=",
          "reserved": [210, 214, 174]
        }
      ],
      "private_key": "D+xA0JcsyrV1rZ6wYrxgLH3Co0ppJwaHydvr2dveb6U=",
      "tag": "💦 3 - WoW 🌍",
      "type": "wireguard"
    },
    {
      "address": ["172.16.0.2/32", "2606:4700:110:8f66:91cc:f16d:2f12:4b4c/128"],
      "domain_resolver": {
        "rewrite_ttl": 60,
        "server": "dns-direct",
        "strategy": "prefer_ipv4"
      },
      "mtu": 1280,
      "peers": [
        {
          "address": "162.159.195.3",
          "allowed_ips": ["0.0.0.0/0", "::/0"],
          "persistent_keepalive_interval": 5,
          "port": 955,
          "public_key": "bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=",
          "reserved": [27, 123, 33]
        }
      ],
      "private_key": "z/tgni0t57/xn6d9eL2nHJAB1P0dAQSOqtAwDV9GqLM=",
      "tag": "💦 1 - Warp 🇮🇷",
      "type": "wireguard"
    },
    {
      "address": ["172.16.0.2/32", "2606:4700:110:8f66:91cc:f16d:2f12:4b4c/128"],
      "domain_resolver": {
        "rewrite_ttl": 60,
        "server": "dns-direct",
        "strategy": "prefer_ipv4"
      },
      "mtu": 1280,
      "peers": [
        {
          "address": "2606:4700:d0::a29f:c001",
          "allowed_ips": ["0.0.0.0/0", "::/0"],
          "persistent_keepalive_interval": 5,
          "port": 879,
          "public_key": "bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=",
          "reserved": [27, 123, 33]
        }
      ],
      "private_key": "z/tgni0t57/xn6d9eL2nHJAB1P0dAQSOqtAwDV9GqLM=",
      "tag": "💦 2 - Warp 🇮🇷",
      "type": "wireguard"
    },
    {
      "address": ["172.16.0.2/32", "2606:4700:110:8f66:91cc:f16d:2f12:4b4c/128"],
      "domain_resolver": {
        "rewrite_ttl": 60,
        "server": "dns-direct",
        "strategy": "prefer_ipv4"
      },
      "mtu": 1280,
      "peers": [
        {
          "address": "wire.nscl.ir",
          "allowed_ips": ["0.0.0.0/0", "::/0"],
          "persistent_keepalive_interval": 5,
          "port": 2408,
          "public_key": "bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=",
          "reserved": [27, 123, 33]
        }
      ],
      "private_key": "z/tgni0t57/xn6d9eL2nHJAB1P0dAQSOqtAwDV9GqLM=",
      "tag": "💦 3 - Warp 🇮🇷",
      "type": "wireguard"
    }
  ],
  "experimental": {
    "cache_file": {
      "enabled": true,
      "store_fakeip": true
    },
    "clash_api": {
      "default_mode": "Rule",
      "external_controller": "127.0.0.1:9090",
      "external_ui": "ui",
      "external_ui_download_detour": "direct",
      "external_ui_download_url": "https://github.com/MetaCubeX/metacubexd/archive/refs/heads/gh-pages.zip"
    }
  },
  "inbounds": [
    {
      "address": ["172.18.0.1/30", "fdfe:dcba:9876::1/126"],
      "auto_route": true,
      "endpoint_independent_nat": true,
      "mtu": 9000,
      "stack": "mixed",
      "strict_route": true,
      "tag": "tun-in",
      "type": "tun"
    },
    {
      "listen": "0.0.0.0",
      "listen_port": 2080,
      "tag": "mixed-in",
      "type": "mixed"
    }
  ],
  "log": {
    "level": "warn",
    "timestamp": true
  },
  "ntp": {
    "domain_resolver": "dns-direct",
    "enabled": true,
    "interval": "30m",
    "server": "time.cloudflare.com",
    "server_port": 123,
    "write_to_system": false
  },
  "outbounds": [
    {
      "interrupt_exist_connections": false,
      "outbounds": [
        "💦 Warp - Best Ping 🚀",
        "💦 WoW - Best Ping 🚀",
        "💦 1 - Warp 🇮🇷",
        "💦 2 - Warp 🇮🇷",
        "💦 3 - Warp 🇮🇷",
        "💦 1 - WoW 🌍",
        "💦 2 - WoW 🌍",
        "💦 3 - WoW 🌍"
      ],
      "tag": "✅ Selector",
      "type": "selector"
    },
    {
      "tag": "direct",
      "type": "direct"
    },
    {
      "interrupt_exist_connections": false,
      "interval": "30s",
      "outbounds": ["💦 1 - Warp 🇮🇷", "💦 2 - Warp 🇮🇷", "💦 3 - Warp 🇮🇷"],
      "tag": "💦 Warp - Best Ping 🚀",
      "type": "urltest",
      "url": "https://www.gstatic.com/generate_204"
    },
    {
      "interrupt_exist_connections": false,
      "interval": "30s",
      "outbounds": ["💦 1 - WoW 🌍", "💦 2 - WoW 🌍", "💦 3 - WoW 🌍"],
      "tag": "💦 WoW - Best Ping 🚀",
      "type": "urltest",
      "url": "https://www.gstatic.com/generate_204"
    }
  ],
  "route": {
    "auto_detect_interface": true,
    "default_domain_resolver": {
      "rewrite_ttl": 60,
      "server": "dns-direct",
      "strategy": "prefer_ipv4"
    },
    "final": "✅ Selector",
    "rule_set": [
      {
        "download_detour": "direct",
        "format": "binary",
        "tag": "geosite-malware",
        "type": "remote",
        "url": "https://raw.githubusercontent.com/Chocolate4U/Iran-sing-box-rules/rule-set/geosite-malware.srs"
      },
      {
        "download_detour": "direct",
        "format": "binary",
        "tag": "geoip-malware",
        "type": "remote",
        "url": "https://raw.githubusercontent.com/Chocolate4U/Iran-sing-box-rules/rule-set/geoip-malware.srs"
      },
      {
        "download_detour": "direct",
        "format": "binary",
        "tag": "geosite-phishing",
        "type": "remote",
        "url": "https://raw.githubusercontent.com/Chocolate4U/Iran-sing-box-rules/rule-set/geosite-phishing.srs"
      },
      {
        "download_detour": "direct",
        "format": "binary",
        "tag": "geoip-phishing",
        "type": "remote",
        "url": "https://raw.githubusercontent.com/Chocolate4U/Iran-sing-box-rules/rule-set/geoip-phishing.srs"
      },
      {
        "download_detour": "direct",
        "format": "binary",
        "tag": "geosite-cryptominers",
        "type": "remote",
        "url": "https://raw.githubusercontent.com/Chocolate4U/Iran-sing-box-rules/rule-set/geosite-cryptominers.srs"
      },
      {
        "download_detour": "direct",
        "format": "binary",
        "tag": "geosite-category-ads-all",
        "type": "remote",
        "url": "https://raw.githubusercontent.com/Chocolate4U/Iran-sing-box-rules/rule-set/geosite-category-ads-all.srs"
      },
      {
        "download_detour": "direct",
        "format": "binary",
        "tag": "geosite-ir",
        "type": "remote",
        "url": "https://raw.githubusercontent.com/Chocolate4U/Iran-sing-box-rules/rule-set/geosite-ir.srs"
      },
      {
        "download_detour": "direct",
        "format": "binary",
        "tag": "geoip-ir",
        "type": "remote",
        "url": "https://raw.githubusercontent.com/Chocolate4U/Iran-sing-box-rules/rule-set/geoip-ir.srs"
      }
    ],
    "rules": [
      {
        "action": "hijack-dns",
        "ip_cidr": "172.18.0.2"
      },
      {
        "clash_mode": "Direct",
        "outbound": "direct"
      },
      {
        "clash_mode": "Global",
        "outbound": "✅ Selector"
      },
      {
        "action": "sniff"
      },
      {
        "action": "hijack-dns",
        "protocol": "dns"
      },
      {
        "ip_is_private": true,
        "outbound": "direct"
      },
      {
        "action": "reject",
        "network": "udp",
        "port": 443,
        "protocol": "quic"
      },
      {
        "action": "reject",
        "rule_set": [
          "geosite-malware",
          "geosite-phishing",
          "geosite-cryptominers",
          "geosite-category-ads-all"
        ]
      },
      {
        "action": "reject",
        "rule_set": ["geoip-malware", "geoip-phishing"]
      },
      {
        "action": "route",
        "outbound": "direct",
        "rule_set": ["geosite-ir"]
      },
      {
        "action": "route",
        "outbound": "direct",
        "rule_set": ["geoip-ir"]
      }
    ]
  }
}
